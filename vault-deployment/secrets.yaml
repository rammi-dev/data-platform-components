# Helm Secrets File for MinIO Credentials
# This file is used with the helm-secrets plugin to retrieve secrets from Vault

# USAGE:
# 1. Ensure Vault is running and accessible
# 2. Set environment variables:
#    export VAULT_ADDR=http://vault-deployment-vault:8200
#    export VAULT_TOKEN=root
# 3. Use with helm-secrets:
#    helm secrets upgrade --install minio ./minio-chart -f secrets.yaml

# Vault backend configuration for helm-secrets
# The plugin will automatically fetch these values from Vault

vault:
  minio:
    root:
      # Path: secret/minio/root
      username: vault:secret/data/minio/root#username
      password: vault:secret/data/minio/root#password
    
    users:
      default_minio:
        # Path: secret/minio/users/default-minio
        accessKey: vault:secret/data/minio/users/default-minio#accessKey
        secretKey: vault:secret/data/minio/users/default-minio#secretKey

# Alternative: Direct secret references in values
# You can also reference secrets directly in your values files:
#
# minio:
#   rootUser: vault:secret/data/minio/root#username
#   rootPassword: vault:secret/data/minio/root#password
#   users:
#     - accessKey: vault:secret/data/minio/users/default-minio#accessKey
#       secretKey: vault:secret/data/minio/users/default-minio#secretKey
#       policy: minio-temporary-policy
